{% from 'vc_vidyo:buttons.html' import render_join_button, render_make_me_moderator  %}
{% set vc_room = event_vc_room.vc_room %}

<div class="toolbar right vc-toolbar">
    <div class="group">
        <span class="i-button i-button-small label vc-room-info" id="vc-room-{{ vc_room.id }}"><img src="{{ vc_room.plugin.icon_url }}" style="width: 18px;"></span>
        {{ render_join_button(vc_room, "i-button-small event-service-right-button join-button") }}
        {{ render_make_me_moderator(event, vc_room, event_vc_room) }}
    </div>
    {{ template_hook('vidyo-event-timetable-buttons', event_vc_room=event_vc_room) }}
</div>
<script>
    $('#vc-room-{{ vc_room.id }}').qtip({
        content: {
            text: {{ info_box | tojson }}
        },
        position: {
            my: 'top middle',
            at: 'bottom middle'
        },
        show: {
            solo: true
        },
        hide: {
            event: 'mouseleave',
            fixed: true,
            delay: 500,
            effect: function() {
                $(this).fadeOut(300);
            }
        },
        style: {
            classes: 'qtip-rounded qtip-shadow qtip-popup vc-room-info-qtip'
        }
    });
</script>
